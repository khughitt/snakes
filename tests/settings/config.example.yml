################################################################################
#                  _             
#  ___ _ __   __ _| | _____  ___ 
# / __| '_ \ / _` | |/ / _ \/ __|
# \__ \ | | | (_| |   <  __/\__ \
# |___/_| |_|\__,_|_|\_\___||___/
#                               
# Example configuration
#
################################################################################

################################################################################
#
# General settings
#
################################################################################

# analysis name and version
name: 'test pipeline'
version: '1.0'

# output directory
output_dir: 'output'

# random seed
random_seed: 1

# output verbosity
verbose: true

################################################################################
#
# Data sources
#
################################################################################
data_sources:
  - 'tests/settings/features/rnaseq.yml'
  - 'tests/settings/features/cnv.yml'
  - 'tests/settings/features/variants.yml'
  - 'tests/settings/response/drug_screen.yml'

# todo:
# - 'tests/data/metadata/sample_metadata.csv'
# - 'tests/data/metadata/drug_metadata.csv'

################################################################################
#
# Pipeline
#
################################################################################
pipeline:
  - type: 'filter_exclude_columns'
    columns_to_exclude: ['KMS20_JCRB']
  - type: 'filter_row_var_above'
    name: 'exclude_zero_variance'
    value: 0

################################################################################
#
# Clustering
#
################################################################################
clustering:
  - type: 'hclust'
    num_clusters: 4
    funcs: ['sum', 'var']

################################################################################
#
# Gene sets
#
################################################################################
gene_sets:
  - type: 'go'
    gene_id: 'entrez'
    gmts:
      - 'tests/data/gene_sets/go.gmt'
    funcs: ['max', 'median', 'ratio_nonzero']

################################################################################
#
# Data integration
#
################################################################################
data_integration:
  - type: 'correlation'
    datasets:
        - 'rnaseq_sample_pca_cormat'
        - 'ac50_sample_pca_cormat'
    method: 'pearson'

