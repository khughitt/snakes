################################################################################
#
# RNA-Seq Example Configuration
#
################################################################################

# General
name: rnaseq
xid: ensgene
yid: sample_id

#
# Path to RNA-Seq count data
#
path: 'tests/data/features/rnaseq.csv'

# Filters and transformations
pipeline:
  - filter_columns_name_not_in:
      names: ['KMS20_JCRB']
  - filter_rows_var_gt:
      name: 'exclude_zero_variance'
      value: 0
  - filter_rows_sum_gt:
      name: 'filter_min_reads'
      value: 20
  - filter_rows_gene_biotype_in:
      name: 'filter_by_gene_type'
      gene_biotypes: ['protein_coding']
  #- branch: 
  #    - dim_reduce_pca:
  #        target: 'rows'
  #        num_pcs: 10
  #    - compute_cor_mat:
  #        id: 'rnaseq_sample_pca_cormat'
  #        method: 'pearson'
  - transform_cpm
  - transform_log2p
  - transform_zscore:
      name: 'transform_row_zscores'
      axis: 1
  - branch:
    - cluster_hclust:
        num_clusters: 4
    #- aggregate:
    #    funcs: ['sum', 'var']

